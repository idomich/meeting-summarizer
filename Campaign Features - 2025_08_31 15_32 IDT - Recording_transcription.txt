Transcription of: Campaign Features - 2025_08_31 15_32 IDT - Recording.mp4
Generated on: 2025-09-17 17:43:58
Model used: large-v3-turbo
Language: he
Duration limit: 10.0 minutes
Parameters: language=he, best_of=2, beam_size=3, patience=1.0
GPT-5 (high) summarization: enabled
Meeting description: A talk regarding the issues with the campaign_id feature, between Roei and Ido. Roei is the one doing most of the explaining.
==================================================

=== CONVERSATION SUMMARY (GPT-5 (high)) ===

Meeting summary: Issues caused by using campaign_id/ad_group_id as model features (Roei and Ido)

Purpose
Roei outlined systematic problems that arise when the predictive model relies on campaign_id/ad_group_id features while the PPC account structure is frequently changed (deletions, consolidations, repurposing). Ido asked clarifying questions and challenged edge cases (reverse moves, new IDs).

Core thesis (Roei)
Using IDs (campaign_id, ad_group_id) as features entangles the model with the PPC account’s mutable structure. When the structure changes, learned associations in the model no longer reflect reality, causing biased predictions and financial loss until new data “percolates” and retraining catches up. The problem is amplified where explicit, stable features (e.g., gender) are missing and IDs act as proxies.

Two levels of impact from structural changes (Roei)
- Level 1: Missing categories/values at inference. When ad groups or campaigns are deleted or merged, some ID categories disappear. This can be “less bad” if other features compensate (e.g., agent_platform, landing page), but our current model barely uses text features; landing page might help only partially.
- Level 2: Reassignment/repurposing causing misapplied ID weights. When users are moved to a different ad group/campaign, the model continues to apply the historical weight of the destination ID, which may be inappropriate for the incoming user cohort. This is more severe and slower to self-correct.

Detailed scenarios and examples

1) Ad group consolidation misapplies learned ID weights (Roei; Ido clarifies direction)
- Example: Premium vs FreeVPN ad groups. Suppose the model learned that ad_group_id for “Premium” correlates with higher conversion rate because that group had very high-quality keywords. If consolidation moves “Free” users into the “Premium” ad_group_id:
  - Predictions for those Free users will be inflated because they inherit the high weight of the premium ad_group_id.
- Ido notes the opposite often happens: moving high-quality premium users into a “worse” ad group. Roei agrees:
  - Then good users get unduly low predictions due to inheriting a low ad_group_id weight.
- Adaptation time: unknown, but certainly more than a week; depends on data volume. Monetary impact accrues during this period.

2) Merging device-segmented campaigns (mobile + desktop) (Roei)
- Observed case: Mobile campaign CPC = $5; Desktop campaign CPC = $10. They were merged.
- Post-merge data effects:
  - The mobile campaign_id and its ad_group_ids disappear; those feature values never appear again at inference.
  - Keywords remain; agent_platform (device) still exists (desktop/mobile).
- Problem: Device quality differences were captured not only by agent_platform but also by campaign_id/ad_group_id due to collinearity. After moving mobile users under the desktop campaign’s IDs (historically associated with higher value/CVR), predictions rose substantially.
- Empirical effect observed: prediction inflation of approximately 20–30% after the merge, purely due to the campaign_id reassignment and its learned high value.

3) Missing critical features (gender) makes ID pooling catastrophic (Roei)
- If campaigns were historically split by gender (female CVR higher than male) and later merged, but the model has no explicit gender feature:
  - The model had learned gender differences under campaign_id as a proxy.
  - After merging, the distinguishing signal disappears; predictions will be systematically wrong until enough new data accumulates. This is “an disaster” (Roei) because the true factor (gender) is unobserved; there is no way for the model to condition correctly in the interim. Financial loss is expected during the drift period.

4) Repurposing old IDs creates extreme predictions on new combinations (Roei; Ido recalls similar spikes)
- Historical near-deterministic mapping:
  - campaign_id 1 ≈ desktop; campaign_id 2 ≈ mobile (about 98% purity; occasional cross-labeling).
- After reorganization, many mobile users appear under campaign_id 1. The model never learned this mapping (it was historically almost nonexistent).
- Tree-based models can make extreme predictions in such “corner case” combinatorics, because tiny historical samples can be misleading (e.g., the 15 historical mobile-in-campaign-1 users all converted by chance), causing a high-probability leaf. When a large volume gets routed to that leaf post-merge, predicted probabilities can spike (example mentioned: ~0.6).
- Roei notes they have seen such sudden spikes before. Trees are surprisingly sensitive to these edge cases despite regularization; moreover, they are not using min_samples_split, which could otherwise curb overfitting to tiny partitions.

5) Creating a brand-new campaign_id via consolidation (Roei)
- If consolidation produces a completely new campaign_id (rather than repurposing an old one):
  - This is “less bad.” The model has no prior weight to misapply; it must learn the new ID from incoming data.
  - Initial predictions will be less accurate than with well-established historical IDs, but the harm is generally smaller than repurposing an old ID with strong historical meaning.

Model-structure consequence (Roei)
- Historically, campaign_id/ad_group_id emerged as relatively important features, appearing high in decision-tree splits. When those IDs are removed, merged, or repurposed, the mismatch affects large swaths of the tree (top-level splits), amplifying error and making the system-wide impact more severe.

General observations and implications (Roei; Ido prompts)
- The pattern recurs in many unintuitive ways whenever IDs serve as proxies for real underlying factors (device, gender, quality tiers). Without explicit, stable features, any pooling/structural changes cause distribution shifts the model is not robust to.
- The system will eventually adapt, but slowly (likely >1 week), and the cost during adaptation can be significant.
- Current feature set is vulnerable:
  - Minimal use of textual features; landing page might help somewhat, but often not enough.
  - Collinearity between IDs and genuine features (e.g., agent_platform) causes the model to split signal across them; removing/repurposing IDs then distorts predictions.
  - Tree sensitivity to rare combinations and the lack of min_samples_split exacerbate extreme-leaf behavior.

Net takeaway
- Relying on campaign_id/ad_group_id as predictive features is fragile in environments where PPC structures frequently change. The most damaging cases are where IDs stand in for missing real features (e.g., gender), or where old IDs are repurposed to host very different user mixes (e.g., moving mobile cohorts under a historically desktop ID). Prediction errors can be large (20–30% inflation observed; extreme probabilities like ~0.6 in edge cases), corrections are slow (>1 week), and the financial impact during drift is material.

==================================================
=== ORIGINAL TRANSCRIPTION (Whisper) ===

 אז הוא לא יעבוד? עצר לדבר באנגלית? לא, אני לא הולך לדבר באנגלית, אנחנו נקליט ואז נוכל להחזור ולראות את הוידאו הנחמד הזה, אני מקווה שהוא יהיה קצר והוא לא יהיה שעתיים, שיהיה איזה איזה איזה שעה בשעה דווקא היום יצא לי לחזור לאיזה וידאו אחר ולנסות להבין, זה היה 55 דקות ולא מצאתי את מה שחיפשתי, זה לא כזה נוח מה נעשה? אמרנו שהוועלה להשתמש ב-ID של קמפיין או של מבנה אחר בתוך המבנה של החבר'ה בפי-פי-סי כי אם יש שינויים אז פתאום יהיה לנו נעלים או דברים שכאילו היו ועכשיו לא נמצאים יותר אז שתי רמות שונות זה יכול להיות באמת זה יכול להיות ברמה אחת שמשהו שעה ולא נמצא זה פחות מסויה כאילו סלוי על מהכון, אם בא יוזר בואי ניתן דוגמאות אולי כן? אם יוזר מסוים היה שייך לאתגרופה אחת ועכשיו הוא מגיע לאתגרופה אחרת כי מחכו את האתגרופה הזאת אוקיי? מה שקורה זה שהאתגרופה השנייה שהוא מתחיל להגיע אליה לא נלמד שיוזרים מהסוגה האלה מגיעים אליה כן? זה יוזר חדש שהוא עד עכשיו לא יגיע למשל כי זה יוזר מוביל וקבצאו את המוביל והדסטופ אז עכשיו אנחנו לא רואים את זה כשהכנסנו למשל נהגיד שהאתגרופה הזאת הייתה רק מילים סופר איכותיות כן? אז הפרדיקציה SEC זה הלאה הייתה... הופיצ'ר... כאילו היא כוולה ערך גבוה לפיצ'ר הזה של האתגרופה ID סתיבל פיצ'ר כאילו מקדם גבוה רכון? ועכשיו אנחנו מתחילים כאילו עשינו חיבור עם יוזרים פח כאילו הבאנו אתגרופה למשל היה לנו את פרימיום ועכשיו העברנו לא שזה כזה סיפור רגיוני, אבל בכל זאת, העברנו את FreeVPN, מחקנו אותה, והעברנו את היוזרים שישבו ביחד על אותו אתגרופ. מה שיקרה זה נכון שיש את הטקסטים שאמורים לעזור לנו איפשהו, למרות שגם המודל שלנו נכון עכשיו לא ממש רואה טקסטים יותר מדי, אולי הלנדינג פאג' יעזור לנו, אולי יהיו פיצ'רים שיצילו אותנו, אבל אם לא יהיו פיצ'רים שיצילו אותנו, מאוד יכול להיות שמה שקרה בזמן האימון, זה שהמודל למד שהאתגרופ הידי של פרימיום, הוא אתגרופ הידי שמנבב גידול משמעותי בעלי תוסל, או בקונברשן ריט, בואו נדבר במונחים כללים, בקונברשן ריט, ועכשיו מתחילים לבוא הרבה יוזרים פריא על האדגרופ הידי, הם עדיין מקבלים את המשקולת של האדגרופ הידי הגבוה, ועד הפרדיקציות של כל היווזרים האלה, הולכות להיות נורא גבוהות. אה, אתה אומר שהכנסנו, פריא לתוך פרימיום? כן. הפוך. קונסולידד. זה ממש, כן, זה ממש, אם כבר הפוך, כאילו, איתך חושב שיעסו. לא משנה, אז הפוך. זה ממש משנה. אז הפוך. הם עבירו את היוזרים הסופר טובים, והעבירו אותם עכשיו למשהו שלא חרה, כן? עכשיו, היוזרים בינתיים, יקבלו חרה של פרדיקציות, ממש, כן? הם פשוט יקבלו את המשקול של האדגרופ הידייה לא מתאים, וזה ייקח די עזור זמן לחלחל, עכשיו, אני לא יודע בדיוק כמה זמן ייקח לזה לחלחל המדע הזה, כן? לא ברור. זה כסף תוכל. זה כסף להבין כמה זמן לוקח, אבל בוא נגיד, בטוח שיותר משבוע, וזה שאלה של כמה דאטה יש, וכל מיני שאלות אחרות, אבל זה לא נעים, וזה תקוע לנו במערכת הדבר הזה. אז זאת בעיה אחת. זה בעיה אחת. עכשיו, בפני כללי, הבעיה יותר קשה במקומות שאתה יודע שאין לך את הפיצ'רים, כן? יש מקומות שאין לך את הפיצ'רים. למשל, יש חיבור בין מודל קמפיין דסקות, למובייל, אוקיי? דוגמה שהייתה לנו, אתה ממש רואה את זה, קמפיין מובייל, ה-CPC הוא 5, קמפיין דסקטופ, ה-CPC הוא 10, אוקיי? הם יחדו אותם ביחד. איך זה נראה בדאטה שהם יחדו אותם? קמפיין ה-ID של המובייל נעלם, באותו רגע, האת-גרופ ה-ID שלו נעלמו גם, הפיצ'רים האלה לא קיימים יותר, אוקיי? הם פשוט לא יגיעו איך יותר בזמן האינפרנס. המילים כן קיימות, זאת אומרת פתחו את התרגות של המובייל, עכשיו, איך אתה רואה את זה בפיצ'רים? אתה רואה את האג'נט פלטפורם, שהוא דקט טוב, ולא מובייל יותר, זה נכון, אבל היוזרים האלה, חלק מהמשקל של זה, שהיוזרים של מובייל הם פחות טובים, נתפס גם על הקמפיין ה-ID, ולא רק על הפלטפורם, על האג'נט פלטפורם, נכון? יש קורלציה בין הפיצ'רים, קוליניאריות כזאת, אז חלק מהמשקל היה על הפלטפורם, הפלטפורם, וחלק גם התפס על הקמפיין ה-ID, אז היוזרים האלה עכשיו מקבלים, שהעבירו אותם לקמפיין עם CPC של 10 דולר, שמנבט, עכשיו מקבלים פרדיקציות יותר גבוהות משמעותית, והראינו את זה בפועל, זה קרה, זה ממש ראינו את זה קורה, איך הפרדיקציות עלו ב-20-30 אחוז, כן? זה על הקמפיין ה-ID, לגלל שהם זזעו לקמפיין עם פרדיקציות, כאילו שיש לו ערך מאוד גבוה, כן? עכשיו היה את ה-ID, עוד פעם, היה את ה-ID platform, שעוזר לנו, באמת עזר, כי כן ראינו את הפיצ'ר הזה, אבל זה לא פתר את זה, בעיה יותר חמורה, זה שאפילו לפעמים אין לנו את ה- פה עוד היה לנו את הפיצ'ר של ה-ID platform, שכאילו עוד יכול לעזור לנו, מה קורה אם חברים, קמפיין גברים ונשים, אין לנו את הפיצ'ר הזה, אנחנו פשוט לא רואים את זה, אז אם נשים למשל יש להם קונברשיון רד גבוה, וגברים יש להם קונברשיון רד נמור, והם עכשיו חיבורו, אין לנו ג'נדר, זה אסון בשבילנו, זה אסון, זה כאילו פיצ'ר שאין לנו אותו, למדנו את כל הערך של ג'נדר, תחת לסל ה-Campaign ID, זה מה שקרה פה, הקמפיין ID הפך בשבילנו להיות פרוקסי לג'נדר, אמא, אמא, לא, יש פולינג עכשיו, ואנחנו עוד שם, אנחנו עוד פעם, עד שהדאט החדש יחלחל, אז לא יהיה שום סיכוך, לא יהיה כלום, אנחנו נאכל, עד שהדאטה לא, אתה יודע, אתה מפסיד כסף על כל הבלימות האלה, אתה מעבד כסף, אז יש לך את הבעיה הזאת, שזה הבעיה כנראה, הכי דרמטית בסיפור הזה, כי באמת אינך להציל אותה, היה עוד דברים, אני חושב ש... הסיפור הזה הוא חוזר בכל מיני, כאילו בכל מיני כיוונים, שאתה לא חושב עליהם, אני חייב להגיד, מה קורה עם הפוך, עם משהו, אתה מביתך שולח זה, היה לי בראש, שזה משהו שזה קורה הפוך, כאילו שזה מגיע בערך, שכאילו היה, עכשיו דיברנו על משהו, שהיה ונעלם, עבר לבית משהו אחר, כן, מה קורה עם זה הפוך, עם זה... משהו חדש, אז שנייה, אז כראה, משהו חדש, פרורטית, יכול להיות באה, ויכול להיות לא להיות באה, באופן מוצחיק, אתה כן מקבל משהו חדש, כשזה קורה, ואני דעתי דוגמה, תאר לך, בסדר? תאר לך, זה בדיוק אתה הדוגמה הבאה באמת שרצייה להגיד וכמעט ברחה, תאר לך דוגמה בקמפיין, בדסק מובל שנתתי דוגמה, בסדר? בעצם מה קרה פה? בוא נניח, עד היום הקמפיין למד, שהקמפיין ID 8, הוא אחד, בוא נעשה את זה פשוט, הקמפיין ID 1 הוא תמיד היה עם דסקטופ, תמיד, בדאטה, כשאתה הסתכלת, אתה ראי את הדסקטופ, וקמפיין ID 2 תמיד הוא היה עם מובל, תמיד, זאת אומרת, זה הדאטה ההיסטורית שהמודל הזה ראה, אולי פה ושם, זה לא בדיוק תמיד, זה 90 ומשהו אחוז, כי לפעמים זזים בין לבין, או לפעמים אנחנו מזהים מובל וגוגל מזהים דסקטופ, אז יש לך מין איזה חפיפונת סופר סופר קטנה וזניחה בדאטה, אז הוא ראה, לא יודע, 98 אחוז, פתאום מתחיל לקרות משהו מוזר, המודל לא למד את זה, ופתאום מתחיל, או הוא חשב שזה משהו סופר זניח, יוזרים עם מובל שהגיעו לקמפיין ID 1, זה לא יכול לקרות כמעט, אתה יודע, זניח! ישồ מעשה נקית של יוזרים כאלה, שמגיעים עכשיו, מה, איזה פרדיקציה הוא נותן להם? אין לנו מושג, יכול להיות פרדיקציות נורא קיצוניות, כאילו, זה יכול להיות שאנחנו... Ven, יכול, לאחד להגיד, אדה, הם מזמיכים ואחד להגיד, Jer, זאת טעות, כאילו. כן, נכון. זה קרה לנו במקומות אחרים שראינו, זה קורה שפתאום, אתה נותן פרדיקציות... פתאום, אני זוכר כאלה, זה מקרה שאתה נתת פריטיקסיות נורא גבוהות פתאום, ניסינו להבין מה קרה, ובאמת מה שקרה, זה שנוצר איזה מקרה קצה, שהוביל אותנו לאיזה ליף פינתי או משהו כזה, שאתה יודע, בזמן האימון הוא מאז הניח, נגיד בדוגמה שלי, נגיד שהחברה של המוביל, כשכבר ראית שיש לך גם, כאילו על קמפיין אחד, בהיסטוריה שלך, באימון, שראית שהחברה של המוביל הגיעו לשם, יצא שאיכשהו, ה-15 שהגיעו כן קנו, קורא המעבר הזה, אז זה מסמן איזה משהו, זה באמת הם קנו, וזה הספיק בשביל לנפח את הפרדיקציות שלך פתאום, כי עושב, זה מקרה פינתי שכאילו לא השפיע על כלום כמעט, ועכשיו פתאום אתה מביר מסות של אלפי יוזרים, וקוראים מקבלים פרדיקציה, אתה יודע, 06 נגיד, משהו מספר נורא גבוה פתאום, אתה מבין? זה קורא הדברים עליהם, זה משהו שראיתי אותו. אתה נורא, כאילו כל הקומבינציות המוזרות האלה, עצים די רגישים לדבר הזה באופן מפתיע, לא ברור ליד היום למה, אבל הם נורא רגישים לזה. כי תאורטית, כדי רגולריזציה, היו אמורים, אתה יודע, מינימום ספליט, וכל מיני דברים, אנחנו לא משתמשים במינימום ספליט, אבל אתה מבין, אז כאילו כל מיני דברים כאלה, אתם יכולים לעבד אותך לפינות קשות, פתאום בלי שתדע. אז, זהו, אז, בעצם, זה הבעיות, אני חושב שעכשיו צפות לי בראש, שהן בעיות גדולות. מה זה אומר? ואם זה חדש, אז זה פשוט חדש. זאת אומרת, אם זה כאילו עכשיו עבר, לא יודע, נגיד, עשיתה קונסולידציה, והם קיבלו קמפיין, עם ספר חדש, שאני לא מכיר. שזה בא, סגן. אבל זה לא ספר הוקח. אז זה בא סגן, כי הבאת את הדאטה, בעצם. הבאת את הדאטה ההיסטורישה. אבל אתה לא תיתן פרדיקציות, לא נבון, אתה פשוט צריך ללמוד על זה. אתה תיתן פרדיקציות פחות טובות, ממה שהיה את מועדת ההיסטורי, אבל כן, זה גם דעיה. שזה גם דעיה שאפשר הוא היה לבחור. תראה, בגדול, עכשיו רגע מה קורה, הרי העץ עושה ספליטים. אז בגדול, הוא מאבד, וזה עוד נקודה, האמת שזה עוד נקודה כואבת, כי מה שיכול לקרות, זה עוד נקודה, נפק, הזכרתי, זה עוד נקודה מעצבן. היסטורית, העץ בנה, את את גרופ אי-די, כקמפיין ה-די, בסדר? כפיצ'ר יחסית חשוב, אז הוא הופיע יחסית למעלה בספליטים.
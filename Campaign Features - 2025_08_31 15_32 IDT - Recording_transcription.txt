Transcription of: Campaign Features - 2025_08_31 15_32 IDT - Recording.mp4
Generated on: 2025-09-16 21:50:47
Model used: large-v3-turbo
Language: he
Duration limit: 10.0 minutes
Parameters: language=he, best_of=2, beam_size=3, patience=1.0
GPT-5 (high) refinement: enabled
Meeting description: A talk regarding the issues with the campaign_id feature, between Roei and Ido. Roei is the one doing most of the explaining.
==================================================

=== REFINED TRANSCRIPTION (GPT-5 (high)) ===

Ido: So it won’t work? Want us to switch to English?

Roei: No, I’m not going to switch to English. We’ll record this so we can review it later. I hope it’s short—not two hours—maybe an hour. Today I went back to a 55‑minute video to find something and couldn’t; it’s not ideal. What can we do.

Roei: We said the problem with relying on campaign_id or other structural IDs from the PPC account is that when the account structure changes, IDs we relied on can suddenly disappear. There are a couple of levels where this bites. Let me give examples.

Roei: Example 1 — ad group migrations. If a user used to be routed to one ad group and now they land in another because the original ad group was deleted, the new ad group hasn’t “learned” that this type of user comes to it. It’s like a new user for that ad group. For instance, say they merged mobile and desktop. Suppose that ad group previously contained only super high‑quality keywords; the ad_group_id feature then got a strong positive weight. Now we consolidate and bring in lower‑quality users—e.g., say we had a “Premium” ad group and a “Free” one; we deleted the Free ad group and moved those users into the same ad group as Premium. In theory ad text or landing page features might help (though our model doesn’t really look at the ad text much; maybe the landing page helps). But if there aren’t other features to save us, it’s very possible the model learned during training that the “Premium” ad group predicts a much higher conversion rate, so ad_group_id carries a high weight. Now lots of Free users start coming into that ad group; they still inherit that high ad_group_id weight, so predictions for all those users become too high.

Ido: You’re saying we put Free into Premium?

Roei: Yes—consolidated.

Ido: That’s backwards—you’d think it would help.

Roei: Right—so flip it. If they took the super‑good users and moved them into something crappy, those users would get crappy predictions for a while. They just inherit an ad_group_id weight that no longer fits. And it takes quite a while to trickle through. I don’t know exactly how long—definitely more than a week. It depends on data volume and other factors. It’s unpleasant—this gets stuck in the system.

Roei: That’s one problem. In practice it’s even worse where we don’t have other features. For example, they merged a mobile campaign with a desktop campaign. In a real case we saw: mobile campaign CPC = $5, desktop campaign CPC = $10. They merged them. How does that look in the data? The mobile campaign_id vanished at that moment. Its ad_group_ids vanished too. Those features no longer exist at inference. The keywords are still there; they just broadened the mobile campaign’s targeting. You now see agent platform = desktop rather than mobile. That’s true. But part of the signal that “mobile users perform worse” had been captured by campaign_id, not only by agent platform. There’s correlation/collinearity between features: part of the weight sat on platform, and part sat on campaign_id. So after they moved those users into the $10 CPC campaign—a campaign that historically predicts conversions quite well—those users now receive significantly higher predictions. We actually saw 20–30% jumps in predictions at the campaign level. The agent‑platform feature helped, but it didn’t solve it.

Roei: An even worse case is when a feature is NA for us. That’s a disaster. Say we don’t have the gender feature; the model then learned all the gender signal under campaign_id. Campaign_id effectively became a proxy for gender. But then they pooled things, and we’re stuck again: until new data trickles in, there’s no counter‑signal. We’ll take the hit until the data shows very low conversion rates and something eventually throttles it. Meanwhile you lose money on all those throttles—you’re burning money.

Roei: This is probably the most dramatic problem here, because there’s really no way to rescue it.

Roei: Another angle: the reverse scenario—when something new appears rather than something existing disappearing. Something new can be a problem or not. Picture this in the desktop/mobile example. Historically the model saw that campaign_id 1 was always desktop, and campaign_id 2 was always mobile—say 98% of the time, with tiny noise. Suddenly a big mass of mobile users starts arriving under campaign_id 1. What prediction do we give them? We don’t really know; it can be very extreme either way. We’ve seen this elsewhere: predictions suddenly spiked. We investigated and found a corner case that pushed the model into a corner leaf—during training it was negligible. In my example, the few (say 15) mobile users who historically landed in campaign 1 all happened to convert, so that combination ended up with a very high predicted value. That was enough to inflate predictions, and now thousands of users are getting, say, 0.6—very high—just because of that. Trees are surprisingly sensitive to these odd combinations. In theory regularization—like min_samples_split—should help; we don’t use min_split; in any case, these things can push you into bad corners without you noticing.

Roei: So those are the big problems that come to mind. What does it mean if it’s a brand‑new campaign? Then it’s simply new. If you consolidated and they got a campaign with a new ID we don’t know, that’s fine in the sense that once historical data arrives, we’ll learn. You won’t give great predictions right away—you need to learn—but it’s solvable as data accumulates. Another painful point: historically the tree treated ad_group_id and campaign_id as relatively important features, so they appear high up in the splits. That makes changes to them especially harmful.

==================================================
=== ORIGINAL TRANSCRIPTION (Whisper) ===

 אז הוא לא יעבוד? עצר לדבר באנגלית? לא, אני לא הולך לדבר באנגלית, אנחנו נקליט ואז נוכל להחזור ולראות את הוידאו הנחמד הזה, אני מקווה שהוא יהיה קצר והוא לא יהיה שעתיים, שיהיה איזה איזה איזה שעה בשעה דווקא היום יצא לי לחזור לאיזה וידאו אחר ולנסות להבין, זה היה 55 דקות ולא מצאתי את מה שחיפשתי, זה לא כזה נוח מה נעשה? אמרנו שהוועלה להשתמש ב-ID של קמפיין או של מבנה אחר בתוך המבנה של החבר'ה בפי-פי-סי כי אם יש שינויים אז פתאום יהיה לנו נעלים או דברים שכאילו היו ועכשיו לא נמצאים יותר אז שתי רמות שונות זה יכול להיות באמת זה יכול להיות ברמה אחת שמשהו שעה ולא נמצא זה פחות מסויה כאילו סלוי על מהכון, אם בא יוזר בואי ניתן דוגמאות אולי כן? אם יוזר מסוים היה שייך לאתגרופה אחת ועכשיו הוא מגיע לאתגרופה אחרת כי מחכו את האתגרופה הזאת אוקיי? מה שקורה זה שהאתגרופה השנייה שהוא מתחיל להגיע אליה לא נלמד שיוזרים מהסוגה האלה מגיעים אליה כן? זה יוזר חדש שהוא עד עכשיו לא יגיע למשל כי זה יוזר מוביל וקבצו את המוביל והדסטופ אז עכשיו אנחנו לא רואים את זה כשהכנסנו למשל נגיד שהאתגרופה הזאת הייתה רק מילים סופר איכותיות כן? אז הפרדיקציה עליה הייתה כאילו הפיצ'ר כאילו היא קיבלה ערך גבוה לפיצ'ר הזה של אתגרופה אידי קיבל פיצ'ר כאילו מקדמי גבוה ועכשיו אנחנו מתחילים כאילו עשינו חיבור עם יוזרים פח כאילו הבאנו אתגרופה למשל היה לנו את פרימיום וי פי אמא ועכשיו העברנו לא שזה כזה סיפור הגיוני אבל בכל זאת העברנו את פרי וי פי אמא מכקנו אותה ועברנו את היוזרים שישבו ביחד על אותו אדקرو מה שהקרה זה נכון שיש את הטקסטים שאמורים לעזור לנו איפשהו למרות שגם המודד שלנו נכון אם הוא לא ממש רואה טקסטים יותר מדי אולי הלנינג פד זה יעזור לנו אולי יש פיצ'רים שיצילו אותנו אבל אם לא היו פיצ'רים שיצילו אותנו מאוד יכול להיות שמה שקרה בזמן האימון זה שהמודד למד שהאדק permium הוא אדק ר confirm הוא אדק drugiej שמנבא גידול משמעותי בעלי תוסל, או בקונברשן ריט, בואו אני אדבר במונחים כללים, בקונברשן ריט, ועכשיו מתחילים לבוא הרבה יוזרים פרי על ה-Head Group, הם עדיין מקבלים את המשקולת של ה-Head Group הגבוה, ועד הפרדיקציות של כל ה-Head Group האלה הולכות להיות נורא גבוהות. אה, אתה אומר שהכנסנו, פרי לתוך פרימיום? כן, קונסולידד. זה ממש, אם כבר הפוך, כאילו, היית חושב שיעסוך. לא משנה, אז הפוך, זה ממש משנה, אז הפוך. הם נקראו את היוזרים הסופר טובים, והעבירו אותם עכשיו למשהו של... שלא משהו ברור. שלא חרה, כן? עכשיו היוזרים האלה בינתיים יקבלו חרה של פרדיקציות, ממש, כן? הם פשוט יקבלו את המשקול של ה-Head Group הידיעה לא מתאים, וזה ייקח די עזור זמן לחלחל, עכשיו אני לא יודע בדיוק כמה זמן ייקח לזה לחלחל המדע הזה, כן? זה קסם להבין כמה זמן לוקח, אבל בואו נגיד, פתוח שיותר משבוע, וזה שאלה של כמה דאטה יש, וכל מיני שאלות אחרות, אבל זה לא נעים, זה תקוע לנו במערכת הדבר הזה. אז זאת בעיה אחת. זה בעיה אחת, עכשיו בפרקלרים, הבעיה יותר קשה במקומות ש... אתה יודע שאין לך את הפיצ'רים, כן? יש מקומות שאין לך את הפיצ'רים. למשל, יש חיבור בין מודל קמפיין דסקוט למובייל, אוקיי? דוגמה שהייתה לנו, אתה ממש רואה את זה, קמפיין מובייל, ה-CPC הוא 5, קמפיין דסקטופ, ה-CPC הוא 10, אוקיי? הם יחדו אותם ביחד. איך זה נראה בדאטה שהם יחדו אותם? קמפיין ה-ID של המובייל נעלם, באותו רגע. האת גרופ ה-ID שלו נעלמו גם. הפיצ'רים האלה לא קיימים יותר, אוקיי? הם פשוט לא יגיעו איך יותר בזמן האינפרנס. המילים כן קיימות. זאת אומרת, פתחו את ה... רק פיתחו את התרגות של המובייל. רואה את האג'נט פלטפורם, שהוא דסקטופ, כן? ולא מובייל יותר. זה נכון. אבל היוזרים האלה, חלק מהמשקל של זה שהיוזרים של מובייל הם פחות טובים, נתפס גם על הקמפיין ה-ID, ולא רק על הפלטפורם, על האג'נט פלטפורם. נכון, יש קורלציה בין הפיצ'רים, קוליניאריות כזאת. אז חלק מהמשקל היה על הפלטפורם, וחלק גם נתפס על הקמפיין ה-ID. אז היוזרים האלה עכשיו מקבלים, שהעבירו אותם לקמפיין עם CPC של 10 דולר, שמנבד את הפונות, זה נרז לא רע. הם עכשיו מקבלים פרדיקציות יותר גבוהות משמעותית, וראינו את זה בפועל, זה קרה. זה ממש ראינו את זה קורה, איך הפרדיקציות עלו ב-20-30 אחוז, כן? זה על הקמפיין היני. לגלל שהם זזרו לקמפיין עם פרדיקציות, כאילו שיש לו ערך מאוד גבוה, כן? כן. עכשיו, היה את האג'נט פלטפורם, שעוזר לנו, באמת עזר, כי כן ראינו את הפיצ'ר הזה, אבל זה לא פתר את זה. באה יותר חמורה, זה שאפילו לפעמים NAU זה אסון מסבלנו. זה אסון, זה כאילו פיצ'ר שאין לנו אותו, למדנו את כל הערך של ג'נדר תחתה על הקמפיין הידי, זה מה שקרה פה. הקמפיינד יהפך בשבילנו להיות פרוקסי לג'נדר, אממה, אממה, לא, יש פולינג עכשיו, ואנחנו עוד שם, אנחנו עוד פעם, עד שהדאטה חדש יחלחל, אז לא יהיה שום סיכוך, כאילו, זה יהיה, לא יהיה כלום, אנחנו נאכל, עד שהדאטה לא, אתה יודע, שייתחירו את שהקונברשן נהייתם נורא נמוכים, אז כאילו משהו בסוף יעצור את זה, כן, בסדר, אתה מפסיד כסף על כל הבלימות האלה, אתה מעבד כסף. סייאב, אז יש לך את הבעיה הזאת, שזה הבעיה כנראה הכי דרמטית בסיפור הזה, כי באמת אינך להציל אותה. היה עוד דברים, אני חושב שהסיפור הזה הוא חוזר בכל מיני כיווןים שאתה לא חושב עליהם, אני חייב להגיד, כאילו, מה קורה עם הפוך, ש... עם משהו, אתה מפסיד חושב את זה, היה לי בראש שזה משהו שזה קורה הפוך, כאילו שזה מגיע בערך שכאילו היה, עכשיו דיברנו על משהו שהיה ונעלם, עבר לדעת משהו אחר. כן. מה קורה עם זה הפוך, עם זה... משהו חדש, אז שנייה, אז תראה, משהו חדש, פאורטית, יכול להיות בעיה ויכול להיות לא להיות בעיה, באופן מוצחיק, אתה כן מקבל משהו חדש, כי זה קורה. ואני ראיתי דוגמה, תאר לך, בסדר? תאר לך, זה בדיוק אתה הדוגמה הבאה באמת שרצייה יגיד וכמעט ברכה, תאר לך דוגמה בקמפיין, בדסט מובל שנעצתי דוגמה, בסדר? בעצם מה קרה פה? בוא נניח, עד היום הקמפיין למד, שהקמפיין ID 8, הוא 1, בוא נעשה את זה פשוט, קמפיין ID 1, הוא תמיד היה עם דסקטופ, תמיד, בדאטה, כשאתה הסתכלת, אתה ראי את הדסקטופ, וקמפיין ID 2, תמיד הוא היה עם מובל, תמיד, זאת אומרת, זה הדאטה ההיסטוריה שהמודל הזה ראה, אולי פה ושם, זה לא בדיוק תמיד, זה 90 ומשהו אחוז, כי לפעמים זזים בין לבין, כן? או לפעמים אנחנו מזהים מובל וגוגל מזהים דסקטופ, אז יש לך מין, איזה חפיפונת סופר סופר קטנה וזניחה בדאטה, כן? אז הוא ראה, לא יודע, 98 אחוז, סלם? פתאום, מתחיל לקרות משהו מוזר, המודל לא למד את זה, ופתאום מתחיל, או הוא חשב שזה משהו סופר זניח, יוזרים עם מובל שהגיעו לקמפיין ID 1, זה לא יכול לקרות כמעט, אתה יודע, זניח. כן. עכשיו יש לו מסה ענקית של יוזרים כאלה שמגיעים, עכשיו, מה, איזה פרדיקציה הוא נותן להם? אין לנו מושג, יכול להיות פרדיקציות נורא קיצוניות, כאילו זה יכול להיות... כן, יכול לאחד להגיד, אה, הוא מה זמיכים, ואחד להגיד, אה, זה טעות, כאילו. כן, נכון. זה קרה לנו במקומות אחרים, שראינו את זה קורה, שאתה פתאום, אתה נותן פרדיקציות, פתאום, אני זוכר, קרה לנו איזה מקרה שאתה נותן פרדיקציות נורא גבוהות פתאום. ניסינו להבין מה קרה, ובאמת מה שקרה, זה שנוצר איזה מקרה קצה, שהוביל אותנו לאיזה ליף פינתי או משהו כזה, שאתה יודע, בזמן האימון הוא מהזניח. נגיד בדוגמה שלי, נגיד שהחברה של המוביל, כשכבר ראית שיש לך גם, כאילו על קמפיין אחד, בהיסטוריה שלך, באימון, שראית שהחברה של המוביל הגיעו לשם, יצא שאיכשהו, ה-15 שהגיעו כן קנו, כי יש איזה משהו שזה קורה, המעבר הזה, אז זה מסמן איזה משהו, זה באמת הם קנו. וזה הספיק בשביל לנפח את הפרדיקציות שלך פתאום, כי שוב, זה מקרה פינתי שכאילו לא השפיע על כלום כמעט, ועכשיו פתאום אתה מבין מסות של אלפי יוזרים, וכולם מקבלים פרדיקציה, אתה יודע, 0-6 נגיד, משהו מספר נורא גבוה פתאום, אתה מבין? זה קורה הדברים האלה, זה מה שראיתי אותו. אתה נורא, כאילו כל הקומבינציות המוזרות האלה, עצים די רגישים לדבר הזה באופן מפתיע, לא ברור ליד היום למה, אבל הם נורא רגישים לזה. כי תאורטית, כדי רגולריזציה, היו אמורים, אתה יודע, מינימום ספליט וכל מיני דברים, לא, אנחנו לא משתמשים במינימום ספליט, אבל אתה מבין? אז כאילו כל מיני דברים כאלה, אתם יכולים לעבד אותך לפינות קשות, פתאום בלי שתדע. אז זהו, אז בעצם, זה הבעיות, אני חושב שעכשיו צפות לי בראש, שהן בעיות גדולות. מה זה אומר? אם זה חדש, אז זה פשוט חדש. זאת אומרת, אם זה כאילו עכשיו עבר, לא נגיד, עשיתה קונסולידציה, והן קיבלו קמפיין עם ספר חדש שאתה לא מכיר. שזה בא, סגר. אבל זה לא סוכר. אז זה בא, סגר, כי הבאת את הדאטה, בעצם. הבאת את הדאטה ההיסטורית. אבל אתה לא תיתן פרדיקציות, לא נכון, אתה פשוט צריך ללמוד על זה. אתה תיתן פרדיקציות פחות טובות, ממה שהיה את מולדת, הדאטה ההיסטורי, אבל כן, שזה גם דעה, שזה גם דעה שאפשרו היה לפתור. תראה, בגלל שאפשרו היה גם מה קורה, הרי העץ עושה ספליטים. אז בגדול הוא מאבד, וזה עוד נקודה, אמית שזה עוד נקודה כואבת, כי מה שיכול לקרות, זה עוד נקודה, נפה, הזכרתי, זה עוד נקודה מעצבנת. היסטורית, העץ בנה, את את גרופ אי-די, את קמפיין אי-די, בסדר? כפיצ'ר יחסית חשוב, אז הוא הופיע יחסית למעלה בספליטים.